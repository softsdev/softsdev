function PWAPPAjaxUpload(){var a=this;this.frame=function(b){var c="f"+Math.floor(99999*Math.random());return jQuery("body *:first",window.document).before('<div><iframe style="display:none" src="about:blank" id="'+c+'" name="'+c+'"></iframe></div>'),jQuery("#"+c,window.document).bind("load",function(){a.loaded(c)}),b&&"function"==typeof b.onComplete&&(jQuery("#"+c,window.document).get(0).onComplete=b.onComplete),c},this.form=function(a,b){jQuery(a).attr("target",b)},this.dosubmit=function(b,c){return a.form(b,a.frame(c)),!c||"function"!=typeof c.onStart||c.onStart()},this.loaded=function(a){if(jQuery("#"+a,window.document).get(0).contentWindow)var b=jQuery("#"+a,window.document).get(0).contentWindow.document;else if(jQuery("#"+a,window.document).get(0).contentDocument)var b=jQuery("#"+a,window.document).get(0).contentDocument;else var b=window.frames[a].document;"about:blank"!=b.location.href&&"function"==typeof jQuery("#"+a,window.document).get(0).onComplete&&jQuery("#"+a,window.document).get(0).onComplete(b.body.innerHTML)}}
